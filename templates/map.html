<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-45359239-3', 'auto');
  ga('send', 'pageview');
</script>

<ion-view title="Company Booth Layout">
    
<ion-scroll zooming="true" direction="xy" style="width: 100%; height: 100%; padding-top: 50px;">

<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
     preserveAspectRatio="xMinYMin meet" 
     viewBox="{{startX}} {{startY}} {{mapWidth}} {{mapHeight}}">
  
<style>
#northshore-title, #lakeshore-title {
  stroke:#000000;
  text-anchor:middle;
  font-family: serif;
  font-size: 24;
  stroke-width:0;
  fill:#000000;
  stroke-linecap: null;
  stroke-linejoin: null;
  stroke-dasharray: null;
}
.tooltip { display:inline; opacity:0.85; fill: #fff; stroke: lime; stroke-width: 1;}

</style>


 <!-- Created with SVG-edit - http://svg-edit.googlecode.com/ 
http://i.imgur.com/CKWe0M9.png
-->

<!--

hide this for pushing to github
use for positioning booths and shiz
 <g>
  <title>background image for tracing</title>
  <!--image x="2" y="1" width="1093" height="1431" xlink:href="http://i.imgur.com/CKWe0M9.png"/--
  <image x="2" y="1" width="1093" height="1431" id="svg_1" xlink:href="http://i.imgur.com/ArXl22P.png"/>

 </g>
<style>
.room {fill: none;}
</style>

-->

  <g id="hilton-garden">

  <title>Room outline</title>
<!--
<text x="535"  y="-75" class="roomTitle"> Grand Ballroom </text>
 -->
  <text id="northshore-title" transform="matrix(1.1191343069076538,0,0,1,-33.64427286013961,0) " xml:space="preserve" font-size="24" y="868.341882" x="368.723276" >Northshore Room</text>

  <text id="lakeshore-title" transform="matrix(1.1191343069076536,0,0,1,178.0052632726729,0.7601555585861206) " xml:space="preserve" font-size="24" text-anchor="middle" y="1103.131952" x="359.535124">Lakeshore Room</text>

  <path class="room"  d="{{roomOutline}}" />
</g>
    
          

    
    
    <g>
      <title> Booths </title>

      <!-- ng-click="go('/companies/{{b.compId}}')" -->
    <g ng-repeat="b in booths" ng-click="tooltipIsVisible = !tooltipIsVisible">
      
    <!-- this still throws errors in console, but it does exactly what i want so... shrug -->
      
    <g ng-attr-transform="translate({{b.x}}, {{b.y}})">

<g id="{{b.compId}}-tooltip" ng-show="tooltipIsVisible" ng-click="go('/companies/{{b.compId}}')">
        <path id="tooltip" fill="#fff"
              d="
              M -35, -75
              L  90, -75
              L  90,-10 
              L  38,-10 
              L  30,-3 
              L  22,-10 
              L -35,-10 Z"></path>       
        <text x="-20" y="-27" class="tooltip-label"> Booth # {{b.bNum}} </text>
        <text x="-20" y="-13" class="tooltip-label"> Click for details </text>
        <image class="compLogo" 
             x="-30" y="-70"
             width="120" height="30"
             ng-xlink-href="./img/logos/{{b.compId}}/wide.png" 
             xlink:href=""/>
      </g>




    <text class="boothlabel compId boothNumId" 
                ng-attr-x="25"
                ng-attr-y="5">
            {{b.bNum}}        
          </text>

    <g ng-attr-transform="rotate({{b.rotate}},0,0)">
        <rect class="booth"
              ng-attr-id="{{b.compId}}"
              x="0" y="0"
              ng-attr-width="{{bWidth}}"
              ng-attr-height="{{bHeight}}"/>
      <!--text class="boothlabel compId boothNumId" 
                ng-attr-x="-25"
                ng-attr-y="-25">
            {{b.compId}}        
          </text-->
      
      <!-- new format, larger logo image -->
        <image class="compLogo" 
             x="0" y="0"
             ng-attr-width="{{bWidth}}" ng-attr-height="{{bHeight}}"
             xlink:href=""
             ng-src
             ng-xlink-href="./img/logos/{{b.compId}}/wide.png" />
             />

          
      
      </g><!-- for rotate -->
      
    </g><!-- /g for transform translate -->
    </g><!-- /g for each booth -->
     
    </g><!-- /g for all booths -->
    </g><!-- /g for entire room -->
    </svg>

<!--
      </g>/ transform - rotate --
    </g><!--/ transform - x y coordinates --
</g> <!--/ b in booths --
  
</svg>

<!--  ng-click="go('/companies/{{b.compId}}')" in rect doesnt work -->

    


<!--Interactive Illustrator SVG using AngularJS:(tooltips)
 http://plnkr.co/edit/0LLUKB9iyzmL9aiMfcRX?p=preview -->

</ion-scroll>

</ion-view>

