<ion-view title="Company Layout">
  <ion-nav-buttons side="left">
    <button menu-toggle="left"class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">

    <style>
    figure { margin: 10; }
    .svg-container {
      display: inline-block;
      position: relative;
      width: 100%;
      padding-bottom: 90%;
      vertical-align: middle;
      overflow: hidden;
    }
  element.style {
  }
  svg:not(:root) { overflow: hidden; }
  .svg-content {
    display: inline-block;
    position: absolute;
    top: 3rem;
    left: 0;
  }

    </style>



<figure class="svg-container ng-scope">
	<svg style="background-color: #ccc" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet" viewBox="0 0 400 400" width="100%" height="100%" class="svg-content">
  
  <style>
.booth {
  fill:#b8ecff;
  stroke-width:2;
  stroke:rgb(0,0,0);
}

.boothlabel {
  text-anchor: "middle";
  alignment-baseline: "middle";
}


    /*ng-cloak { display: none; }
    html, body { height: 100%; }
    * {padding: 0; margin: 0;}
    table { width: 100%; height: 100%; }
    td { width: 50%; height: 100%; }
    td.definition { vertical-align: top;}
    textarea { width: 100%; height: 50%; }*/
    svg { 
      width: 100%; 
      height: 100%; 
      /*border: 1px solid black; 
      box-sizing: border-box; 
          <g ng-href="/app/companies/{{b.compId}}">           </g>


          http://stackoverflow.com/questions/14201753/angular-js-how-when-to-use-ng-click-to-call-a-route
          */
    }

</style>

        
    <g ng-repeat="b in floorplan">

    <!--a xlink:href="/app/companies/{{b.compId}}"--> 
        <rect class="booth" 
              ng-attr-id="{{b.compId}}"
              ng-click="go('/app/companies/{{b.compId}}')"
              ng-attr-x="{{b.x}}"
              ng-attr-y="{{b.y}}"
              ng-attr-width="{{boothWidth}}"
              ng-attr-height="{{boothHeight}}"
              />
          <text class="boothlabel"
            ng-attr-x="{{ b.x + boothWidth/2 }}"
            ng-attr-y="{{ b.y + boothHeight/2 }}"
            ng-click="alert('{{b.compId}} was selected')">
          {{b.compId}}        
          </text>
          </g>
      </svg>
      </figure>

      <!-- http://tutorials.jenkov.com/svg/a-element.html -->

      <!--<ion-item nav-clear href="#/app/companies/{{b.compId}}">
          {{b.compId}}
        </ion-item-->


  </ion-content>
</ion-view>
